# Unified Gate Configuration
# Version 1 schema - see gates/contracts.yaml for full specification
#
# This file configures how gates behave for this product.
# Charter content (hypothesis, assumptions) lives in charter/charter.yaml

version: 1

# Charter gate configuration
# Controls experiment discipline enforcement
charter:
  # Block work if review date is past due (default: true)
  enforce_reviews: true

  # Minimum assumptions required in charter (default: 1, max: 3)
  # assumptions_required: 1

# Engineering gate configuration
# Controls code quality enforcement
engineering:
  # Stack auto-detected from package.json, pyproject.toml, go.mod, Cargo.toml
  # Uncomment to override: node-typescript | node-javascript | python | go | rust
  # stack: auto

  # Enable/disable individual checks
  checks:
    lint: true
    types: true
    tests: true
    format: true

  # Minimum test coverage percentage (0 = no enforcement)
  coverage_threshold: 0

  # Custom overrides (optional)
  # lint_config: .eslintrc.custom.js
  # test_command: npm run test:ci

  # Custom checks (optional)
  # Define project-specific checks to run alongside built-in gates
  # custom_checks:
  #   - name: security-audit
  #     command: npm audit --audit-level=high
  #     phase: pre-push          # pre-commit | pre-push
  #     blocking: true           # true = fails gate, false = warning only
  #
  #   - name: bundle-size
  #     command: ./scripts/check-bundle-size.sh
  #     phase: pre-push
  #     blocking: false
